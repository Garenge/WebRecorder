# WebRecorder

一个功能强大的Web端屏幕录制和视频编辑工具，支持实时录制、视频裁剪和下载。

## ✨ 主要功能

### 🎥 屏幕录制
- **全屏录制**：支持录制整个屏幕
- **窗口录制**：支持录制特定应用程序窗口
- **实时预览**：录制过程中实时显示录制内容
- **录制控制**：开始/暂停/停止录制功能

### ✂️ 视频编辑
- **时间轴裁剪**：直观的时间轴界面，支持精确裁剪
- **拖拽操作**：流畅的滑块拖拽，实时调整开始和结束时间
- **实时预览**：拖拽时实时显示时间变化
- **精确控制**：支持点击时间轴快速定位

### 📱 用户体验
- **响应式设计**：完美适配桌面端和移动端
- **现代化UI**：简洁美观的界面设计
- **流畅动画**：优化的拖拽体验，60fps流畅更新
- **实时反馈**：拖拽时实时显示时间变化

## 🚀 技术特点

### 性能优化
- **高效拖拽**：使用requestAnimationFrame确保流畅拖拽
- **智能缓存**：预计算轨道信息，避免重复DOM查询
- **节流更新**：预览和时间显示分别优化更新频率
- **资源管理**：自动清理定时器和动画帧

### 技术栈
- **原生JavaScript**：无框架依赖，轻量级实现
- **Web APIs**：使用Screen Capture API进行屏幕录制
- **FFmpeg.wasm**：客户端视频处理
- **现代CSS**：Flexbox和Grid布局，响应式设计

## 📁 项目结构

```
WebRecorder/
├── WebRecorder.html      # 主页面
├── WebRecorder-v1.html   # 早期版本
├── app.js               # 应用程序逻辑
├── recorder-core.js     # 录制核心功能
├── video-editor.js      # 视频编辑器
├── styles.css           # 样式文件
└── README.md           # 项目说明
```

## 🎯 核心功能模块

### 1. 录制模块 (recorder-core.js)
- 屏幕捕获API集成
- 录制状态管理
- 媒体流处理
- 录制文件生成

### 2. 视频编辑器 (video-editor.js)
- 时间轴滑块实现
- 拖拽事件处理
- 视频裁剪逻辑
- 实时预览功能

### 3. 应用程序 (app.js)
- 用户界面控制
- 录制流程管理
- 文件下载处理
- 状态同步

## 🎮 使用方法

1. **开始录制**
   - 点击"开始录制"按钮
   - 选择录制类型（全屏/窗口）
   - 授权屏幕录制权限

2. **编辑视频**
   - 录制完成后进入编辑模式
   - 拖拽时间轴滑块调整裁剪范围
   - 实时预览裁剪效果

3. **下载视频**
   - 点击"下载视频"按钮
   - 选择保存位置
   - 获取裁剪后的视频文件

## 🔧 开发说明

### 本地运行
1. 克隆项目到本地
2. 使用HTTP服务器运行（不能直接打开HTML文件）
3. 推荐使用Live Server或Python SimpleHTTPServer

### 浏览器兼容性
- Chrome 72+
- Firefox 66+
- Safari 13+
- Edge 79+

### 注意事项
- 需要HTTPS环境或localhost才能使用屏幕录制API
- 某些浏览器可能需要用户手动授权屏幕录制权限

## 📝 更新日志

### v1.0.0
- ✅ 完成屏幕录制功能
- ✅ 实现视频编辑器
- ✅ 优化拖拽性能
- ✅ 添加响应式设计
- ✅ 完善用户体验

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

MIT License

---

**WebRecorder** - 让屏幕录制和视频编辑变得简单高效！